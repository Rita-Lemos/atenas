{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\laravel-base\\\\src\\\\views\\\\RegisterView.js\";\n//Registo (imagem, nome, email e password)\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport login from '../css/register.css';\n\nclass RegisterView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      username: '',\n      image: '',\n      password: '',\n      loggedIn: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  handleChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    console.log('handle', name, value);\n    let data = {};\n    data[name] = value;\n    this.setState(data);\n  }\n\n  render() {\n    if (this.state.loggedIn) {\n      window.location.href = \"/main\";\n    }\n\n    if (localStorage.getItem('user')) {\n      return React.createElement(Redirect, {\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      id: \"RegisterPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"FormRegisto\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"UserRegisto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"ImgUserRegisto\",\n      src: require('../images/man-user.svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"file\",\n      className: \"inputfile\",\n      name: \"image\",\n      value: this.state.image,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Choose a file\")), React.createElement(\"div\", {\n      className: \"TodosInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"DivInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"IconesInput\",\n      src: require('../images/user_total_preenchido .svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"InputsRegisto\",\n      type: \"text\",\n      name: \"username\",\n      value: this.state.username,\n      placeholder: \"username\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"DivInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"IconesInput\",\n      src: require('../images/email.svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"InputsRegisto\",\n      type: \"text\",\n      name: \"email\",\n      value: this.state.email,\n      placeholder: \"email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"DivInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"IconesInput\",\n      src: require('../images/password.svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"InputsRegisto\",\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      placeholder: \"password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"DivInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"IconesInput\",\n      src: require('../images/password.svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"InputsRegisto\",\n      type: \"password\",\n      placeholder: \"confirmar pass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      className: \"RegistoBtn\",\n      type: \"submit\",\n      value: \"seguinte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })));\n  }\n\n  submit(e) {\n    e.preventDefault();\n    window.axios.post('/api/register', {\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n      image: this.state.image\n    }).then(response => {\n      console.log('resposta', response); //console.log(response.data.data.access_token);\n\n      this.setState({\n        loggedIn: true\n      }); //console.log('token', response.data.data.access_token)\n\n      localStorage.setItem('user', response.data.user.id);\n      return React.createElement(Redirect, {\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    }).catch(error => {\n      console.log('erro', error.response);\n    });\n  }\n\n}\n\nexport default RegisterView;","map":{"version":3,"sources":["C:/xampp/htdocs/laravel-base/src/views/RegisterView.js"],"names":["React","Component","ReactDOM","Axios","Redirect","login","RegisterView","constructor","props","state","email","username","image","password","loggedIn","handleChange","bind","submit","event","name","target","value","console","log","data","setState","render","window","location","href","localStorage","getItem","require","e","preventDefault","axios","post","then","response","setItem","user","id","catch","error"],"mappings":"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","sourcesContent":["//Registo (imagem, nome, email e password)\r\nimport React, {Component} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport login from '../css/register.css'\r\n\r\nclass RegisterView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={\r\n            email: '',\r\n            username: '',\r\n            image: '',\r\n            password: '',\r\n            loggedIn: false,\r\n        }\r\n\r\n        this.handleChange=this.handleChange.bind(this);\r\n        this.submit=this.submit.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        let name = event.target.name;\r\n        let value = event.target.value;\r\n        console.log('handle',name, value);\r\n        let data = {};\r\n        data[name] = value;\r\n\r\n        this.setState(data);\r\n    }\r\n    render() {\r\n        if (this.state.loggedIn) {\r\n            window.location.href = \"/main\";\r\n        }\r\n        if(localStorage.getItem('user')) {\r\n            return <Redirect to='/main' />;\r\n        }\r\n        return (\r\n            <div id=\"RegisterPage\">\r\n\r\n                <form className=\"FormRegisto\" onSubmit={this.submit} >\r\n                    <div className=\"UserRegisto\">\r\n                        <img className=\"ImgUserRegisto\" src={require('../images/man-user.svg')}/>\r\n                        <input type=\"file\" id=\"file\" className=\"inputfile\" name=\"image\" value={this.state.image}  onChange={this.handleChange}/>\r\n                        <label htmlFor=\"file\">Choose a file</label>\r\n                    </div>\r\n                    <div className=\"TodosInput\">\r\n                    <div className=\"DivInput\">\r\n                        <img className=\"IconesInput\" src={require('../images/user_total_preenchido .svg')}/>\r\n                        <input className=\"InputsRegisto\" type=\"text\" name=\"username\" value={this.state.username} placeholder=\"username\" onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"DivInput\">\r\n                        <img className=\"IconesInput\" src={require('../images/email.svg')}/>\r\n                        <input className=\"InputsRegisto\" type=\"text\" name=\"email\" value={this.state.email} placeholder=\"email\" onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"DivInput\">\r\n                        <img className=\"IconesInput\" src={require('../images/password.svg')}/>\r\n                        <input className=\"InputsRegisto\" type=\"password\" name=\"password\" value={this.state.password} placeholder=\"password\" onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"DivInput\">\r\n                        <img className=\"IconesInput\" src={require('../images/password.svg')}/>\r\n                        <input className=\"InputsRegisto\" type=\"password\" placeholder=\"confirmar pass\" />\r\n                    </div>\r\n                    </div>\r\n                    <input className=\"RegistoBtn\" type=\"submit\" value=\"seguinte\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n    submit(e) {\r\n        e.preventDefault();\r\n        \r\n        window.axios.post('/api/register', \r\n        {   email: this.state.email, \r\n            username: this.state.username, \r\n            password: this.state.password, \r\n            image: this.state.image\r\n        })\r\n        .then(response=>{\r\n            console.log('resposta',response);\r\n            //console.log(response.data.data.access_token);\r\n            this.setState({loggedIn: true});\r\n            //console.log('token', response.data.data.access_token)\r\n            localStorage.setItem('user', response.data.user.id);\r\n            return <Redirect to='/main' />;\r\n        })\r\n        .catch(error => {\r\n            console.log('erro',error.response);\r\n        })\r\n        ;\r\n    }\r\n}\r\n\r\nexport default RegisterView;\r\n"]},"metadata":{},"sourceType":"module"}