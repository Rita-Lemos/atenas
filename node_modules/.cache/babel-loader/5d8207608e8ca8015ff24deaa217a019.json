{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\laravel-base\\\\src\\\\views\\\\LoginView.js\";\n//Login\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport login from '../css/login.css';\n\nclass LoginView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      loggedIn: false,\n      bigError: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  handleChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    let data = {};\n    data[name] = value;\n    this.setState(data);\n  }\n\n  handleSeguinte(mensagem) {\n    if (mensagem == \"\") {\n      window.location.href = \"/main\";\n    }\n  }\n\n  render() {\n    if (localStorage.getItem('user')) {\n      return React.createElement(Redirect, {\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      id: \"BodyLogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"LogoLogin\",\n      src: require('../images/negativo .png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      style: {\n        marginTop: 50\n      },\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"EmailLogo\",\n      src: require('../images/email.svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"EmailInput\",\n      type: \"text\",\n      name: \"email\",\n      value: this.state.email,\n      placeholder: \"email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"Pass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"PassLogo\",\n      src: require('../images/password.svg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"PassInput\",\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      placeholder: \"password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), this.state.bigError, React.createElement(\"input\", {\n      className: \"LoginBtn\",\n      type: \"submit\",\n      value: \"login\",\n      onClick: () => this.handleSeguinte(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"RegistarAqui\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Ainda n\\xE3o tem conta?\", React.createElement(\"a\", {\n      href: \"/registo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \" Registe-se Aqui!\"))));\n  }\n\n  submit(e) {\n    e.preventDefault();\n    window.axios.post('/api/login', {\n      email: this.state.email,\n      password: this.state.password\n    }).then(response => {\n      this.setState({\n        bigError: \"\"\n      });\n      this.handleSeguinte(this.state.bigError);\n      localStorage.setItem('user', response.data.user.id);\n    }).catch(error => {\n      this.setState({\n        bigError: React.createElement(\"div\", {\n          className: \"a_Validacao\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Password ou email inv\\xE1lidos!\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }), \"Tente novamente.\")\n      });\n      this.handleSeguinte(this.state.bigError);\n    });\n  }\n\n}\n\nexport default LoginView;","map":{"version":3,"sources":["C:/xampp/htdocs/laravel-base/src/views/LoginView.js"],"names":["React","Component","axios","Redirect","login","LoginView","constructor","props","state","email","password","loggedIn","bigError","handleChange","bind","submit","event","name","target","value","data","setState","handleSeguinte","mensagem","window","location","href","render","localStorage","getItem","require","marginTop","e","preventDefault","post","then","response","setItem","user","id","catch","error"],"mappings":"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","sourcesContent":["//Login\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport login from '../css/login.css'\r\n\r\n\r\nclass LoginView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            loggedIn: false,\r\n            bigError: \"\",\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.submit = this.submit.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        let name = event.target.name;\r\n        let value = event.target.value;\r\n        let data = {};\r\n        data[name] = value;\r\n\r\n        this.setState(data);\r\n    }\r\n    handleSeguinte(mensagem) {\r\n        if (mensagem == \"\") {\r\n            window.location.href = \"/main\"\r\n        }\r\n\r\n    }\r\n    render() {\r\n\r\n\r\n        if (localStorage.getItem('user')) {\r\n            return <Redirect to='/main' />;\r\n        }\r\n        return (\r\n            <div id='BodyLogin'>\r\n                <div>\r\n                    <img id='LogoLogin' src={require('../images/negativo .png')} />\r\n                    <form style={{ marginTop: 50 }} onSubmit={this.submit}>\r\n                        <div className=\"Email\">\r\n                            <img className=\"EmailLogo\" src={require('../images/email.svg')} />\r\n                            <input className=\"EmailInput\" type=\"text\" name=\"email\" value={this.state.email} placeholder=\"email\" onChange={this.handleChange} />\r\n                        </div>\r\n                        <div className=\"Pass\">\r\n                            <img className=\"PassLogo\" src={require('../images/password.svg')} />\r\n                            <input className=\"PassInput\" type=\"password\" name=\"password\" value={this.state.password} placeholder=\"password\" onChange={this.handleChange} />\r\n                        </div>\r\n                        {this.state.bigError}\r\n                        <input className=\"LoginBtn\" type=\"submit\" value=\"login\" onClick={() => this.handleSeguinte()} />\r\n                    </form>\r\n\r\n                    <p className=\"RegistarAqui\">Ainda não tem conta?<a href='/registo'> Registe-se Aqui!</a></p>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n    submit(e) {\r\n        e.preventDefault();\r\n\r\n        window.axios.post('/api/login', { email: this.state.email, password: this.state.password })\r\n            .then(response => {\r\n                this.setState({ bigError: \"\" });\r\n                this.handleSeguinte(this.state.bigError);\r\n                localStorage.setItem('user', response.data.user.id);\r\n            })\r\n            .catch(error => {\r\n                this.setState({ bigError: <div className=\"a_Validacao\"><b>Password ou email inválidos!</b><br />Tente novamente.</div> });\r\n                this.handleSeguinte(this.state.bigError);\r\n            })\r\n            ;\r\n    }\r\n}\r\n\r\nexport default LoginView\r\n"]},"metadata":{},"sourceType":"module"}